<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>How does Bootstrap’s test suite work?</title>
        <link rel="stylesheet" href="/assets/css/styles.css">
    </head>
    <body>
        <nav id="nav-bar">
    <a href="/" class="font-size-2 font-text">Home</a>
    <div class="max-col"></div>
    
        <a class="font-size-2 font-text" href="/#about-section">About</a>
    
        <a class="font-size-2 font-text" href="/#contact-section">Contact</a>
    
</nav>
        <section>
            <h2 id="how-does-bootstraps-test-suite-work">How does Bootstrap’s test suite work?</h2>

<p>Bootstrap uses <a href="https://jasmine.github.io/">Jasmine</a>. Each plugin has a file dedicated to its tests in <code class="language-plaintext highlighter-rouge">tests/unit/&lt;plugin-name&gt;.spec.js</code>.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">visual/</code> contains “visual” tests which are run interactively in real browsers and require manual verification by humans.</li>
</ul>

<p>To run the unit test suite via <a href="https://karma-runner.github.io/">Karma</a>, run <code class="language-plaintext highlighter-rouge">npm run js-test</code>.
To run the unit test suite via <a href="https://karma-runner.github.io/">Karma</a> and debug, run <code class="language-plaintext highlighter-rouge">npm run js-debug</code>.</p>

<h2 id="how-do-i-add-a-new-unit-test">How do I add a new unit test?</h2>

<ol>
  <li>Locate and open the file dedicated to the plugin which you need to add tests to (<code class="language-plaintext highlighter-rouge">tests/unit/&lt;plugin-name&gt;.spec.js</code>).</li>
  <li>Review the <a href="https://jasmine.github.io/pages/docs_home.html">Jasmine API Documentation</a> and use the existing tests as references for how to structure your new tests.</li>
  <li>Write the necessary unit test(s) for the new or revised functionality.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">npm run js-test</code> to see the results of your newly-added test(s).</li>
</ol>

<p><strong>Note:</strong> Your new unit tests should fail before your changes are applied to the plugin, and should pass after your changes are applied to the plugin.</p>

<h2 id="what-should-a-unit-test-look-like">What should a unit test look like?</h2>

<ul>
  <li>Each test should have a unique name clearly stating what unit is being tested.</li>
  <li>Each test should be in the corresponding <code class="language-plaintext highlighter-rouge">describe</code>.</li>
  <li>Each test should test only one unit per test, although one test can include several assertions. Create multiple tests for multiple units of functionality.</li>
  <li>Each test should use <a href="https://jasmine.github.io/api/edge/matchers.html"><code class="language-plaintext highlighter-rouge">expect</code></a> to ensure something is expected.</li>
  <li>Each test should follow the project’s <a href="https://github.com/twbs/bootstrap/blob/main/.github/CONTRIBUTING.md#js">JavaScript Code Guidelines</a></li>
</ul>

<h2 id="code-coverage">Code coverage</h2>

<p>Currently we’re aiming for at least 90% test coverage for our code. To ensure your changes meet or exceed this limit, run <code class="language-plaintext highlighter-rouge">npm run js-test-karma</code> and open the file in <code class="language-plaintext highlighter-rouge">js/coverage/lcov-report/index.html</code> to see the code coverage for each plugin. See more details when you select a plugin and ensure your change is fully covered by unit tests.</p>

<h3 id="example-tests">Example tests</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Synchronous test</span>
<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">getInstance</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should return null if there is no instance</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Make assertion</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">getInstance</span><span class="p">(</span><span class="nx">fixtureEl</span><span class="p">)).</span><span class="nx">toBeNull</span><span class="p">()</span>
  <span class="p">})</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should return this instance</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">fixtureEl</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">&lt;div&gt;&lt;/div&gt;</span><span class="dl">'</span>

    <span class="kd">const</span> <span class="nx">divEl</span> <span class="o">=</span> <span class="nx">fixtureEl</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">)</span>
    <span class="kd">const</span> <span class="nx">tab</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tab</span><span class="p">(</span><span class="nx">divEl</span><span class="p">)</span>

    <span class="c1">// Make assertion</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">getInstance</span><span class="p">(</span><span class="nx">divEl</span><span class="p">)).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">tab</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span>

<span class="c1">// Asynchronous test</span>
<span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should show a tooltip without the animation</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">fixtureEl</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">&lt;a href="#" rel="tooltip" title="Another tooltip"&gt;&lt;/a&gt;</span><span class="dl">'</span>

    <span class="kd">const</span> <span class="nx">tooltipEl</span> <span class="o">=</span> <span class="nx">fixtureEl</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">)</span>
    <span class="kd">const</span> <span class="nx">tooltip</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tooltip</span><span class="p">(</span><span class="nx">tooltipEl</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">animation</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">})</span>

    <span class="nx">tooltipEl</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">shown.bs.tooltip</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">tip</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">.tooltip</span><span class="dl">'</span><span class="p">)</span>

      <span class="nx">expect</span><span class="p">(</span><span class="nx">tip</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toBeNull</span><span class="p">()</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">tip</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="dl">'</span><span class="s1">fade</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toEqual</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
      <span class="nx">resolve</span><span class="p">()</span>
    <span class="p">})</span>

    <span class="nx">tooltip</span><span class="p">.</span><span class="nx">show</span><span class="p">()</span>
  <span class="p">})</span>
<span class="p">})</span>
</code></pre></div></div>

        </section>
        <footer>
    Built with GH Pages
</footer>
    </body>
</html>